<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CurrencyHub - Exchange Rates</title>
    <link rel="stylesheet" href="index.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
    <header>
        <div class="header-left">
            <h1>CurrencyHub</h1>
        </div>
        <nav class="header-center">
            <a href="/">Home</a>
            <a href="/historical">Historical</a>
            <a href="/about">About</a>
        </nav>
        <div class="header-right">
            <div class="currency-icon" title="Live Rates">ðŸ’²</div> <!-- Tooltip on hover -->
        </div>
    </header>

    <main>

        <!--- historical is below --->

       <section class="historical-section">
    <h2>Historical Rates</h2>
    <p>Retrieve rates for a specific date.</p>
    <form id="historical-form" action="/historical" method="POST">  <!-- Added id for JS -->
        <div class="date-input">
            <select name="type" id="historical-currency" class="form-select">  <!-- Added id -->
                <option value="" data-display="Select">Select Currency</option>
                <option value="EUR">EUR</option>
                <option value="USD">USD</option>
                <option value="AUD">AUD</option>
                <option value="BGN">BGN</option>
                <option value="BRL">BRL</option>
                <option value="CAD">CAD</option>
            </select>
            <input type="date" id="historical-date" value="1999-01-04" min="1999-01-04" max="2023-12-31" name="historicalDate">
            <button type="submit" id="fetch-historical">Fetch Rates</button>
        </div>
    </form>
   <% if(locals.historicalData){ %>
 <div class="historical-card">
        <h3 id="historical-base"><%= historicalData.base %></h3>
        <p id="historical-date-display">Date: <%= historicalData.date %></p>
        <div class="rates-list" id="historical-rates-list">
            <% for(let i=0;i< 6; i++) { %>
            <div class="rate-item">
                <span class="currency"><%= Object.keys(historicalData.rates)[i] %></span>
                <span class="rate"><%= Object.values(historicalData.rates)[i] %></span>
            </div>
            <% } %>
        </div>
    </div>
    <% } else { %>
         <div class="historical-card">
        <h3 id="historical-base">Currency</h3>
        <p id="historical-date-display">Date</p>
        <div class="rates-list" id="historical-rates-list">
            
            <div class="rate-item">
                <span class="currency">Currency</span>
                <span class="rate">Rates</span>
            </div>
        </div>
    </div>
        <% } %>
</section>
    </main>

    <footer>
        <p>&copy; 2023 CurrencyHub. All rights reserved.</p>
        <nav>
            <a href="#privacy">Privacy Policy</a>
            <a href="#terms">Terms of Service</a>
        </nav>
    </footer>

    <script src="script.js"></script>
</body>

</html>